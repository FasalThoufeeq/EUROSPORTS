<!-- Shop Details Section Begin -->
<section class="shop-details">
  <div class="product__details__pic">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="product__details__breadcrumb">
            <a href="/">Home</a>
            <a href="/shop">Shop</a>
            <span>Product Details</span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3 col-md-3">
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
              <a
                class="nav-link active"
                data-toggle="tab"
                href="#tabs-1"
                role="tab"
              >
                <div
                  class="product__thumb__pic set-bg xzoom-gallery"
                  data-setbg="<%= product.image[0] %>"
                ></div>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#tabs-2" role="tab">
                <div
                  class="product__thumb__pic set-bg xzoom-gallery"
                  data-setbg="<%= product.image[1] %>"
                ></div>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#tabs-3" role="tab">
                <div
                  class="product__thumb__pic set-bg xzoom-gallery"
                  data-setbg="<%= product.image[2] %>"
                ></div>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#tabs-4" role="tab">
                <div
                  class="product__thumb__pic set-bg xzoom-gallery"
                  data-setbg="<%= product.image[3] %>"
                ></div>
              </a>
            </li>
          </ul>
        </div>
        <div class="col-lg-6 col-md-9">
          <div class="tab-content">
            <div class="tab-pane active" id="tabs-1" role="tabpanel">
              <div class="product__details__pic__item" id="img-container">
                <img
                  src="<%= product.image[0] %>"
                  class="zoom_03"
                  alt=""
                />
              </div>
            </div>
            <div class="tab-pane" id="tabs-2" role="tabpanel">
              <div class="product__details__pic__item">
                <img
                  src="<%= product.image[1] %>"
                  class="zoom_03"
                  alt=""
                />
              </div>
            </div>
            <div class="tab-pane" id="tabs-3" role="tabpanel">
              <div class="product__details__pic__item">
                <img
                  src="<%= product.image[2] %>"
                  class="zoom_03"
                  alt=""
                />
              </div>
            </div>
            <div class="tab-pane" id="tabs-4" role="tabpanel">
              <div class="product__details__pic__item">
                <img
                  src="<%= product.image[3] %>"
                  class="zoom_03"
                  alt=""
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="product__details__content">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-lg-8">
          <div class="product__details__text">
            <h4><%= product.productname%></h4>
            <div class="rating">
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star"></i>
              <i class="fa fa-star-o"></i>
              <span> - 5 Reviews</span>
            </div>
            <h3>â‚¹<%= product.price%><span>70.00</span></h3>
            <p><%= product.description%></p>

            <div class="product__details__cart__option">

              <% if (product.quantity==0) { %>
              <button
                aria-label="Add To Cart"
                style="background-color: red"
                class="btn button-40 addToCart action-btn hover-up btn-dark"
              >
                Out Of Stock
              </button>
              <% } else { %>
              <button
                aria-label="Add To Cart"
                style="width: 200px; height: 50px"
                class="btn button-40 addToCart action-btn hover-up btn-dark"
                onclick="addToCart('<%-product._id%>')"
              >
                Add To Cart
              </button>
              <% } %>
            </div>
            <div class="product__details__btns__option">
              <a href="#"><i class="fa fa-heart"></i> add to wishlist</a>
              <a href="#"><i class="fa fa-exchange"></i> Add To Compare</a>
            </div>
            <div class="product__details__last__option">
              <h5><span>Guaranteed Safe Checkout</span></h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script type="text/javascript" src="https://www.elevateweb.co.uk/wp-content/themes/radial/jquery.elevatezoom.min.js"></script>
<script>
  function addToCart(proId) {
    $.ajax({
      url: "/addToCart/" + proId,
      method: "get",
      success: (response) => {
        // alert(response)
        if (response.update) {
          let cartCount = $("#cartCount").html();
          cartCount = parseInt(cartCount) + 1;
          $("#cartCount").html(cartCount);

          Toastify({
            text: "Added to cart",
            duration: 3000,
            gravity: "bottom", // `top` or `bottom`
            position: "center", // `left`, `center` or `right`
            stopOnFocus: true, // Prevents dismissing of toast on hover
            style: {
              background: "linear-gradient(to right, #00b09b, #96c93d)",
            },
            onClick: function () {}, // Callback after click
          }).showToast();
        } else {
          Toastify({
            text: "Please login to add cart",
            duration: 3000,
            gravity: "bottom", // `top` or `bottom`
            position: "center", // `left`, `center` or `right`
            stopOnFocus: true, // Prevents dismissing of toast on hover
            style: {
              background: "linear-gradient(to right, #00b09b, #96c93d)",
            },
            onClick: function () {}, // Callback after click
          }).showToast();
        }
      },
    });
  }
 $(".zoom_03").elevateZoom({
   cursor: 'pointer',
   easing : true,
});
</script>
